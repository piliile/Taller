package parcialturnoCtema1_10_10_23;

public class Estacion {
    private String direccion;
    private Surtidor [] infoSurtidores;
    private int cantidadSurtidores; // sería la dimL

    public Estacion(String direccion) {
        this.direccion = direccion;
        this.cantidadSurtidores = 0; // inicializo la dimL
        infoSurtidores = new Surtidor [6];
        for (int i = 0; i < 6; i++)
            infoSurtidores[i] = null; // preg si esta bien 
    }

    public String getDireccion() {
        return direccion;
    }

    public int getCantidadSurtidores() {
        return cantidadSurtidores;
    }

    public void agregarSurtidor(Surtidor unSurtidor){
        if (this.cantidadSurtidores < 6){
            infoSurtidores[this.cantidadSurtidores] = unSurtidor;
            this.cantidadSurtidores++;
        }
    }
    
    public void registrarVenta(int N, int dniCli, int cantLitros, String formaPago){
        Surtidor surti = this.infoSurtidores[N-1];
        double monto = cantLitros * surti.getPrecioPorLitro();
        Venta ven = new Venta(dniCli, cantLitros, monto, formaPago);
        surti.agregarVenta(ven);
    }
    
    public int mayorNumeroSurtidor(){
        int mayNum = -1; double maximo = -1;
        for (int i = 0; i < this.cantidadSurtidores; i++)
            if (maximo < this.infoSurtidores[i].calculoTotalMonto()){
                maximo = this.infoSurtidores[i].calculoTotalMonto();
                mayNum = i;
            }
        return mayNum;        
    }
    
    public String toString(){
        String aux = "";
        aux = "Estación de servicio: " + " " + this.getDireccion() + "; " + this.getCantidadSurtidores() + "\n";
        for (int i = 0; i < this.cantidadSurtidores; i++){
            aux += ("Surtidor " + (i + 1) + ": " + this.infoSurtidores[i].getCombustible() + ", " + 
                    this.infoSurtidores[i].getPrecioPorLitro() + "." + " Ventas: [" + this.infoSurtidores[i].toString() + "\n");
        }
        return aux;
    }
}
