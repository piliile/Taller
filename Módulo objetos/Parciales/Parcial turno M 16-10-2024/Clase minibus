package parcialturnoM16_10_2024;
public class Minibus {
    private String patente;
    private int capacidad;
    private Alumno [] infoAlumnos;
    private int cantidadAlumnos; // dimL de alumnos

    public Minibus(String patente, int N) { // N CAPACIDAD MAXIMA
        this.patente = patente;
        this.capacidad = N;
        this.cantidadAlumnos = 0;
        this.infoAlumnos = new Alumno [N];
        for (int i = 0; i < N; i++)
            this.infoAlumnos[i] = null;
    }
    
    public void agregarAlumno(Alumno A) {
        if (this.cantidadAlumnos < this.capacidad) {
            this.infoAlumnos[this.cantidadAlumnos] = A;
            this.cantidadAlumnos++;
        }
    }

    public String getPatente() {
        return patente;
    }
    
    public int lugaresLibres(){
        int auxi = 0;
        return auxi = this.capacidad - this.cantidadAlumnos;
    }
    
    public boolean asignarPolizaAlAlumno(int dniAlumno, int polizaSeg){
        int i = 0; 
        while ((i < this.cantidadAlumnos) && (dniAlumno != this.infoAlumnos[i].getDni()))
            i++;
        if (i < this.cantidadAlumnos){
            this.infoAlumnos[i].setPoliza(polizaSeg);
            return true;
        }
        else
            return false;
    }
    
    public int getCantAlumnosMismaObra(String unaObra){
        int auxi = 0 ;
        for (int i = 0; i < this.cantidadAlumnos; i++){
           if (this.infoAlumnos[i].getObra().equals(unaObra))
               auxi++;
        }
        return auxi;
    }
    
    public int getTotalAlumnos(){
        return this.cantidadAlumnos;
    }

    public int getCapacidad() {
        return capacidad;
    }
    
    public String toString(){
        String auxi = "";
        for (int i = 0; i < this.cantidadAlumnos; i++){
            auxi += this.getPatente() + "> - " + "CAPACIDAD: <" + this.getCapacidad() + ">" + "\n" + this.infoAlumnos[i].toString();  
        }
        return auxi;
    }
}

