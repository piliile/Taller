package parciales.parcialturnoCtema2_14_10_2022;

public class Funcion {
    private String titulo;
    private String fecha;
    private int hora;
    private Butaca [][] sala;
    private int cantidadFilas;
    private int cantidadButacas;

    public Funcion(String titulo, String fecha, int hora, int N, int M) {
        this.titulo = titulo;
        this.fecha = fecha;
        this.hora = hora;
        this.cantidadFilas = N;
        this.cantidadButacas = M;
        this.sala = new Butaca[N][M];
        inicializarSala(N, M);
    }
    
    private void inicializarSala(int N, int M){
        for (int i = 0; i < N; i ++){
            for (int j = 0; j < M; j ++) {
                this.sala[i][j] = new Butaca(i+1, j+1);
            }
        }
    }
    
    public double ocuparButaca(int F, int B){
        double precioDeLaButaca = 0;
        if (!this.sala[F-1][B-1].isOcupada()){
            precioDeLaButaca = this.sala[F-1][B-1].ocupoButacaYDevuelvoPrecio(F);
        }
        return precioDeLaButaca;
    }
    
    public void desocupoButacasDeLaFila(int F){
        for (int j = 0; j < this.cantidadButacas; j ++){
            if (this.sala[F-1][j].isOcupada()){
                this.sala[F-1][j].desocupoButaca();
            }
        }
    }
    
    public String representacionButaca(int B){
        String aux = "";
        for (int i = 0; i < this.cantidadFilas; i ++){
            aux += this.sala[i][B-1].toString(i + 1, B) + "\n";
        }
        return aux;
    }
    
    public String toString(){
        String aux = "Título: " + this.titulo + ", fecha: " + this.fecha + ", hora: " + this.hora + ". Representación de butacas: " + "\n";
        for (int i = 0; i < this.cantidadFilas; i++){
            for (int j = 0; j < this.cantidadButacas; j ++){
                aux += this.sala[i][j].toString(i + 1, j + 1) + "\n";
            }
        }
        return aux;
    }
}
