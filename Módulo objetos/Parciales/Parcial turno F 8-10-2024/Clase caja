package parcialturnoF8_10_2024;

public class Caja {
    private boolean disponible;
    private Ticket [] infoTickets;
    private int cantidadTickets;
    private int dimF;
    
    public Caja(int T) {
        this.disponible = true;
        this.infoTickets = new Ticket[T];
        this.cantidadTickets = 0;
        this.dimF = T;
        for (int i = 0; i < T; i++)
            this.infoTickets[i] = null;
    }
  
    public void agregarTicket(Ticket unTicket){
        if (this.cantidadTickets < this.dimF){
            this.infoTickets[this.cantidadTickets] = unTicket;
            this.cantidadTickets ++;
        }
    }

    public boolean isDisponible() {
        return disponible;
    }

    public int getCantidadTickets() {
        return cantidadTickets;
    }
    
    
    public void setDisponible(boolean disponible) {
        this.disponible = disponible;
    }
        
    public int devuelvoTotalLibros(){
        int cantDevuelvo = 0;
        for (int i = 0; i < this.cantidadTickets; i++)
            cantDevuelvo += this.infoTickets[i].getCantidadLibrosComprados();
        return cantDevuelvo;
    }
    
    public Ticket devuelvoMaxTicket(){
        double montoMax = 0; Ticket tickMax = null; double maximo = -1;
        for (int i = 0; i < this.cantidadTickets; i++){
            montoMax = this.infoTickets[i].getMonto();
            if (maximo < montoMax){
                maximo = montoMax;
                tickMax = this.infoTickets[i];
            }
        }
        return tickMax;    
    }
 
    public String toString(){
        String auxi = "";
        for (int i = 0; i < this.cantidadTickets; i++)
            auxi += this.isDisponible() + "; " + this.getCantidadTickets() + " [" + this.infoTickets[i].toString();
        
        return auxi;
    }
}
