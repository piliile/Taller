package MisClases;

public class Proyecto {
    private String nombre;
    private int codigo;
    private String nombreDirector;
    private Investigador [] investigadores;
    private int cantidadInvestigadores;

    public Proyecto(String nombre, int codigo, String nombreDirector) {
        this.nombre = nombre;
        this.codigo = codigo;
        this.nombreDirector = nombreDirector;
        this.cantidadInvestigadores = 0;
        this.investigadores = new Investigador[50]; 
    }

    public String getNombre() {
        return nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public int getCodigo() {
        return codigo;
    }

    public void setCodigo(int codigo) {
        this.codigo = codigo;
    }

    public String getNombreDirector() {
        return nombreDirector;
    }

    public void setNombreDirector(String nombreDirector) {
        this.nombreDirector = nombreDirector;
    }
    
    public void agregarInvestigador(Investigador unInvestigador){
        if (this.cantidadInvestigadores < 50) { // si hay lugar para agregar un investigador
            this.investigadores[cantidadInvestigadores] = unInvestigador; // lo agrega
            this.cantidadInvestigadores++; // suma la cantidad de investigadores
        }
    }
    
    public void otorgarTodos(String unNombreCompleto){ // otorgar todos los subsidios no-otorgados del investigador con ese nombre.
        int i = 0;
        while ((i < this.cantidadInvestigadores) && (!this.investigadores[i].getNombre().equals(unNombreCompleto)))
            i++;
        // si salta del while es dos razones; terminó el vector (y no está) o se encontro el nombre
        if (i < this.cantidadInvestigadores) // si el vector NO terminó, entonces saltó porque se encontró el nombre
            investigadores[i].otorgarSubsidios(); // como saltó porq el nombre era el buscado, otorgamos los subsidios que eran false a true.
    }

    public double totalDinero(){
        double total = 0;   
        for (int i = 0; i < this.cantidadInvestigadores; i++)
            total += this.investigadores[i].dineroTotalOtorgado();
        return total;        
    }
    // devolver un string con: nombre del proyecto, código, nombre del director, el
    // total de dinero otorgado del proyecto y la siguiente información de cada
    // investigador: nombre, categoría, especialidad, y el total de dinero de sus subsidios otorgados.
    public String toString(){
        String aux = "Nombre proyecto: " + this.nombre + ". Código: " + this.codigo + ". Nombre del director: "
        + this.nombreDirector + "." + "\n" + "Total de dinero otorgado del proyecto: " + this.totalDinero() + 
        ". El investigador tiene la siiguiente información: " + "\n";
        for (int i = 0; i < this.cantidadInvestigadores; i++) 
            aux += (this.investigadores[i]).toString();
        return aux;
    }
}
